# Ralph Progress Log
Started: Wed 21 Jan 2026 13:53:50 PST
---

## Codebase Patterns
- Use `[[ $# -gt 0 ]]` with `shift` for bash flag parsing
- Regex `^[1-9][0-9]*$` validates positive integers (excludes 0 and negatives)

---

## 2026-01-21 14:05 - US-001
Thread: https://ampcode.com/threads/T-019be2a0-d416-729f-860a-faa04d968362
- Refactored ralph.sh to use named `--prompt` and `--max-iterations` flags
- Replaced positional `$1` with while-loop flag parser
- Added validation for positive integer on max-iterations
- Files changed: ralph.sh
- **Learnings for future iterations:**
  - The script uses `PROMPT_FILE` variable for the prompt path - use this for US-002 path validation
  - Default prompt is `$SCRIPT_DIR/prompt.md`
---

## 2026-01-21 14:15 - US-002
Thread: https://ampcode.com/threads/T-019be2cc-9b43-75e6-a85b-2b5ddcba76bb
- Added prompt file validation with `[ ! -f "$PROMPT_FILE" ]` check
- Exits with code 1 and clear error message showing which file was not found
- Files changed: ralph.sh
- **Learnings for future iterations:**
  - Validation order matters: validate max-iterations first (it's simpler), then prompt file
  - Relative paths work automatically since bash resolves them from CWD
---

## 2026-01-21 14:25 - US-003
Thread: https://ampcode.com/threads/T-019be2cf-c3d0-74cd-aee5-e0840eb5083f
- Added `show_help()` function with heredoc displaying usage, options, defaults, and examples
- Added `-h|--help` case in flag parser that calls show_help and exits 0
- Files changed: ralph.sh
- **Learnings for future iterations:**
  - Use `cat << EOF ... EOF` heredoc for multi-line help text (cleaner than multiple echo statements)
  - Place help case first in the switch for readability
---

## 2026-01-21 14:35 - US-004
Thread: https://ampcode.com/threads/T-019be2d1-bb9c-7016-8ee2-13bf635277e8
- Updated README.md with CLI flags table, examples, and default values
- Updated AGENTS.md with new flag syntax (was outdated positional arg)
- Files changed: README.md, AGENTS.md
- **Learnings for future iterations:**
  - Remember to check AGENTS.md for outdated CLI usage when updating docs
  - Use markdown tables for flag documentation (cleaner than bullet lists)
---
